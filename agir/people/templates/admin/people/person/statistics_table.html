{% load i18n humanize %}

<style>
  table.stats {
    table-layout: fixed;
    width: 100%;
  }

  table.stats th,
  table.stats td {
    font-size: 1rem;
    line-height: 1.5;
    font-variant-numeric: tabular-nums;
  }

  table.stats th {
    width: 30%;
  }

  table.stats th[colspan="2"] {
    font-size: 12px;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: white;
    background-color: #ed8989;
  }

  table.stats td {
    width: 70%;
  }

  table.stats meter {
    width: 100%;
  }

  @media (max-width: 992px) {

    table.stats th,
    table.stats td {
      width: auto;
    }

    table.stats td {
      text-align: right;
    }
  }
</style>

<table class="stats">
  <tr>
    <th>Total</th>
    <td>{{ statistics.total }}</td>
  </tr>
  <tr>
    <th colspan="2">Types</th>
  </tr>
  <tr>
    <th>Signataires <em>Mélenchon 2022</em></th>
    <td>{{ statistics.is_2022 }}
      <meter value="{{ statistics.is_2022 }}" title="{{ statistics.is_2022 }}" min="0" max="{{ statistics.total }}">
        {{ statistics.is_2022 }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Signataires <em>La France insoumise</em></th>
    <td>{{ statistics.is_insoumise }}
      <meter value="{{ statistics.is_insoumise }}" title="{{ statistics.is_insoumise }}" title="{{ statistics.is_insoumise }}" title="{{ statistics.is_insoumise }}" min="0" max="{{ statistics.total }}">
        {{ statistics.is_insoumise }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Correspondants d'immeuble</th>
    <td>{{ statistics.liaisons }}
      <meter value="{{ statistics.liaisons }}" title="{{ statistics.liaisons }}" title="{{ statistics.liaisons }}" title="{{ statistics.liaisons }}" min="0" max="{{ statistics.total }}">
        {{ statistics.liaisons }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Contacts</th>
    <td>{{ statistics.contacts }}
      <meter value="{{ statistics.contacts }}" title="{{ statistics.contacts }}" title="{{ statistics.contacts }}" title="{{ statistics.contacts }}" min="0" max="{{ statistics.total }}">
        {{ statistics.contacts }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Élu·es</th>
    <td>{{ statistics.elected_representatives }}
      <meter value="{{ statistics.elected_representatives }}" title="{{ statistics.elected_representatives }}" title="{{ statistics.elected_representatives }}" title="{{ statistics.elected_representatives }}" min="0"
        max="{{ statistics.total }}">{{ statistics.elected_representatives }}
      </meter>
    </td>
  </tr>
  <tr>
    <th colspan="2">Groupes d'action</th>
  </tr>
  <tr>
    <th>Membres de groupe d'action</th>
    <td>
      {{ statistics.group_members }}
      <meter value="{{ statistics.group_members }}" title="{{ statistics.group_members }}" title="{{ statistics.group_members }}" title="{{ statistics.group_members }}" min="0" max="{{ statistics.total }}">
        {{ statistics.group_members }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Membres de groupe d'action certifié</th>
    <td>
      {{ statistics.certified_group_members }}
      <meter value="{{ statistics.certified_group_members }}" title="{{ statistics.certified_group_members }}" title="{{ statistics.certified_group_members }}" title="{{ statistics.certified_group_members }}" min="0"
        max="{{ statistics.total }}">{{ statistics.certified_group_members }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Animateur·ices de groupe d'action</th>
    <td>
      {{ statistics.group_referents }}
      <meter value="{{ statistics.group_referents }}" title="{{ statistics.group_referents }}" title="{{ statistics.group_referents }}" title="{{ statistics.group_referents }}" min="0" max="{{ statistics.total }}">{{ statistics.group_referents }}
      </meter>
    </td>
  </tr>
  <tr>
    <th colspan="2">Dons</th>
  </tr>
  <tr>
    <th>Donateur·ices à <em>Mélenchon 2022</em></th>
    <td>
      {{ statistics.is_2022_donors }}
      <meter value="{{ statistics.is_2022_donors }}" title="{{ statistics.is_2022_donors }}" min="0" max="{{ statistics.total }}">
        {{ statistics.is_2022_donors }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Donateur·ices à <em>La France insoumise</em></th>
    <td>
      {{ statistics.is_insoumise_donors }}
      <meter value="{{ statistics.is_insoumise_donors }}" title="{{ statistics.is_insoumise_donors }}" min="0" max="{{ statistics.total }}">
        {{ statistics.is_insoumise_donors }}
      </meter>
    </td>
  </tr>
  <tr>
    <th colspan="2">Âge</th>
  </tr>
  <tr>
    <th>Dates de naissance renseignées</th>
    <td>
      {{ statistics.known_birthdates }}
      <meter value="{{ statistics.known_birthdates }}" title="{{ statistics.known_birthdates }}" min="0" max="{{ statistics.total }}">
        {{ statistics.known_birthdates }}
      </meter>
    </td>
  </tr>
  {% if statistics.mean_age %}
  <tr>
    <th>Âge moyen</th>
    <td>{{ statistics.mean_age|floatformat:"-3" }}&nbsp;ans</td>
  </tr>
  {% endif %}
  {% if statistics.median_age %}
  <tr>
    <th>Âge médian</th>
    <td>{{ statistics.median_age|floatformat:"-3" }}&nbsp;ans</td>
  </tr>
  {% endif %}
  <tr>
    <th colspan="2">Communication</th>
  </tr>
  <tr>
    <th>Inscrit·es à au moins une newsletter</th>
    <td>
      {{ statistics.newsletter_subscribers }}
      <meter value="{{ statistics.newsletter_subscribers }}" title="{{ statistics.newsletter_subscribers }}" min="0" max="{{ statistics.total }}">
        {{ statistics.newsletter_subscribers }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Inscrit·es aux informations par SMS</th>
    <td>
      {{ statistics.sms_subscribers }}
      <meter value="{{ statistics.sms_subscribers }}" title="{{ statistics.sms_subscribers }}" min="0" max="{{ statistics.total }}">
        {{ statistics.sms_subscribers }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Numéros de téléphone renseignés</th>
    <td>
      {{ statistics.known_phone_numbers }}
      <meter value="{{ statistics.known_phone_numbers }}" title="{{ statistics.known_phone_numbers }}" min="0" max="{{ statistics.total }}">
        {{ statistics.known_phone_numbers }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Connecté·es pendant les derniers sept jours </th>
    <td>
      {{ statistics.last_week_connections }}
      <meter value="{{ statistics.last_week_connections }}" title="{{ statistics.last_week_connections }}" min="0" max="{{ statistics.total }}">
        {{ statistics.last_week_connections }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Utilisateurs·ices de l'application Android</th>
    <td>
      {{ statistics.android_users }}
      <meter value="{{ statistics.android_users }}" title="{{ statistics.android_users }}" min="0" max="{{ statistics.total }}">
        {{ statistics.android_users }}
      </meter>
    </td>
  </tr>
  <tr>
    <th>Utilisateurs·ices de l'application iOS</th>
    <td>
      {{ statistics.ios_users }}
      <meter value="{{ statistics.ios_users }}" title="{{ statistics.ios_users }}" min="0" max="{{ statistics.total }}">
        {{ statistics.ios_users }}
      </meter>
    </td>
  </tr>
  <tr>
    <th colspan="2">Codes postaux le plus représentés</th>
  </tr>
  {% for zip, count in statistics.zip_codes %}
  <tr>
    <th>{{ zip }}</th>
    <td>
      {{ count }}
      <meter value="{{ count }}" title="{{ count }}" min="0" max="{{ statistics.total }}">
        {{ count }}
      </meter>
    </td>
  </tr>
  {% endfor %}
</table>
